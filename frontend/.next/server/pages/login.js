"use strict";(()=>{var e={};e.id=459,e.ids=[459,888,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},2730:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>g,default:()=>x,getServerSideProps:()=>p,getStaticPaths:()=>h,getStaticProps:()=>u,reportWebVitals:()=>f,routeModule:()=>N,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>j});var a=s(7093),l=s(5244),i=s(1323),n=s(2899),c=s.n(n),d=s(6814),o=s(1237),m=e([d,o]);[d,o]=m.then?(await m)():m;let x=(0,i.l)(o,"default"),u=(0,i.l)(o,"getStaticProps"),h=(0,i.l)(o,"getStaticPaths"),p=(0,i.l)(o,"getServerSideProps"),g=(0,i.l)(o,"config"),f=(0,i.l)(o,"reportWebVitals"),j=(0,i.l)(o,"unstable_getStaticProps"),b=(0,i.l)(o,"unstable_getStaticPaths"),v=(0,i.l)(o,"unstable_getStaticParams"),y=(0,i.l)(o,"unstable_getServerProps"),w=(0,i.l)(o,"unstable_getServerSideProps"),N=new a.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/login",pathname:"/login",bundlePath:"",filename:""},components:{App:d.default,Document:c()},userland:o});r()}catch(e){r(e)}})},1237:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>u});var a=s(997),l=s(6689),i=s(968),n=s.n(i),c=s(1664),d=s.n(c),o=s(1163),m=s(3673),x=e([m]);m=(x.then?(await x)():x)[0];let u=()=>{let[e,t]=(0,l.useState)({username:"",password:""}),[s,r]=(0,l.useState)(!1),[i,c]=(0,l.useState)(null),x=(0,o.useRouter)(),u=e=>{let{name:s,value:r}=e.target;t(e=>({...e,[s]:r}))},h=async t=>{t.preventDefault(),r(!0),c(null);try{await m.k.login(e);let t=x.query.returnUrl?.toString()||"/account";x.push(t)}catch(e){c(e.response?.data?.error||"Ошибка авторизации. Проверьте логин и пароль.")}finally{r(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-cream flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)(n(),{children:[a.jsx("title",{children:"Вход - Уездный Кондитер"}),a.jsx("meta",{name:"description",content:"Войдите в свой аккаунт в кондитерской 'Уездный Кондитер'"})]}),(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-center text-3xl font-serif font-bold text-chocolate",children:"Уездный Кондитер"}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Войдите в свой аккаунт"})]}),(0,a.jsxs)("div",{className:"bg-white py-8 px-4 shadow rounded-lg sm:px-10",children:[i&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:i}),(0,a.jsxs)("form",{className:"space-y-6",onSubmit:h,children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Имя пользователя или Email"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:e.username,onChange:u,className:"input-field w-full",placeholder:"Введите имя пользователя или email"})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Пароль"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:e.password,onChange:u,className:"input-field w-full",placeholder:"Введите пароль"})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-chocolate focus:ring-chocolate border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Запомнить меня"})]}),a.jsx("div",{className:"text-sm",children:a.jsx(d(),{href:"/forgot-password",className:"font-medium text-chocolate hover:text-dark-chocolate",children:"Забыли пароль?"})})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:s,className:`w-full btn-primary flex justify-center py-2 px-4 ${s?"opacity-50 cursor-not-allowed":""}`,children:s?"Вход...":"Войти"})})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Или продолжите с"})})]}),(0,a.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-3",children:[a.jsx("div",{children:(0,a.jsxs)("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Sign in with Facebook"}),a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M20 10c0-5.523-4.477-10-10-10S0 4.477 0 10c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V10h2.54V7.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V10h2.773l-.443 2.89h-2.33v6.988C16.343 19.128 20 14.991 20 10z",clipRule:"evenodd"})})]})}),a.jsx("div",{children:(0,a.jsxs)("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Sign in with Google"}),a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{d:"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"})})]})}),a.jsx("div",{children:(0,a.jsxs)("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Sign in with VK"}),a.jsx("span",{className:"text-lg font-bold",children:"VK"})]})})]})]})]}),a.jsx("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Нет аккаунта?"," ",a.jsx(d(),{href:"/register",className:"font-medium text-chocolate hover:text-dark-chocolate",children:"Зарегистрируйтесь"})]})})]})]})};r()}catch(e){r(e)}})},5244:(e,t)=>{var s;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")},9648:e=>{e.exports=import("axios")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[567,424,899,814],()=>s(2730));module.exports=r})();