"use strict";(()=>{var e={};e.id=190,e.ids=[190,888,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},6958:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>p,default:()=>m,getServerSideProps:()=>u,getStaticPaths:()=>g,getStaticProps:()=>h,reportWebVitals:()=>f,routeModule:()=>w,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>b});var l=s(7093),i=s(5244),a=s(1323),n=s(2899),c=s.n(n),d=s(6814),o=s(6614),x=e([d]);d=(x.then?(await x)():x)[0];let m=(0,a.l)(o,"default"),h=(0,a.l)(o,"getStaticProps"),g=(0,a.l)(o,"getStaticPaths"),u=(0,a.l)(o,"getServerSideProps"),p=(0,a.l)(o,"config"),f=(0,a.l)(o,"reportWebVitals"),b=(0,a.l)(o,"unstable_getStaticProps"),j=(0,a.l)(o,"unstable_getStaticPaths"),y=(0,a.l)(o,"unstable_getStaticParams"),N=(0,a.l)(o,"unstable_getServerProps"),v=(0,a.l)(o,"unstable_getServerSideProps"),w=new l.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/cart",pathname:"/cart",bundlePath:"",filename:""},components:{App:d.default,Document:c()},userland:o});r()}catch(e){r(e)}})},6614:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var r=s(997),l=s(6689),i=s(968),a=s.n(i),n=s(1664),c=s.n(n);let d=()=>{let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(()=>{try{let e=localStorage.getItem("cart");e&&t(JSON.parse(e))}catch(e){console.error("Ошибка при загрузке корзины",e)}finally{i(!1)}})()},[]),(0,l.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);let n=(e,s,r,l)=>{if(l<=0){d(e,s,r);return}t(t=>t.map(t=>t.id===e&&t.weight===s&&JSON.stringify(t.fillings)===JSON.stringify(r)?{...t,quantity:l}:t))},d=(e,s,r)=>{t(t=>t.filter(t=>!(t.id===e&&t.weight===s&&JSON.stringify(t.fillings)===JSON.stringify(r))))},o=()=>e.reduce((e,t)=>e+t.price*t.quantity,0),x=()=>e.reduce((e,t)=>e+t.quantity,0);return s?r.jsx("div",{className:"min-h-screen bg-cream flex items-center justify-center",children:r.jsx("div",{className:"text-xl",children:"Загрузка корзины..."})}):(0,r.jsxs)("div",{className:"min-h-screen bg-cream",children:[(0,r.jsxs)(a(),{children:[r.jsx("title",{children:"Корзина - Уездный Кондитер"}),r.jsx("meta",{name:"description",content:"Ваша корзина покупок в кондитерской 'Уездный Кондитер'"})]}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-serif font-bold text-chocolate mb-2",children:"Ваша корзина"}),r.jsx("p",{className:"text-gray-600",children:e.length>0?`В корзине ${x()} товаров на сумму ${o().toLocaleString()} ₽`:"Ваша корзина пуста"})]}),0===e.length?(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[r.jsx("div",{className:"text-5xl mb-4",children:"\uD83D\uDED2"}),r.jsx("h2",{className:"text-2xl font-bold text-chocolate mb-4",children:"Корзина пуста"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Добавьте в неё что-нибудь вкусное!"}),r.jsx(c(),{href:"/catalog",className:"btn-primary inline-block",children:"Перейти в каталог"})]}):(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:e.map((e,t)=>r.jsx("div",{className:"border-b border-gray-200 last:border-b-0",children:(0,r.jsxs)("div",{className:"p-6 flex flex-col sm:flex-row",children:[r.jsx("div",{className:"sm:w-1/4 mb-4 sm:mb-0 flex justify-center",children:r.jsx("img",{src:e.image,alt:e.name,className:"w-32 h-32 object-cover rounded-lg"})}),(0,r.jsxs)("div",{className:"sm:w-3/4 sm:pl-6",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-chocolate",children:e.name}),e.weight&&(0,r.jsxs)("p",{className:"text-gray-600",children:["Вес: ",e.weight]}),e.fillings&&e.fillings.length>0&&(0,r.jsxs)("p",{className:"text-gray-600",children:["Начинки: ",e.fillings.join(", ")]})]}),r.jsx("button",{onClick:()=>d(e.id,e.weight,e.fillings),className:"text-gray-400 hover:text-red-500",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mt-4",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4 sm:mb-0",children:[r.jsx("span",{className:"mr-3",children:"Количество:"}),(0,r.jsxs)("div",{className:"flex items-center border border-gray-300 rounded",children:[r.jsx("button",{onClick:()=>n(e.id,e.weight,e.fillings,e.quantity-1),className:"px-3 py-1 text-gray-600 hover:bg-gray-100",children:"-"}),r.jsx("span",{className:"px-3 py-1",children:e.quantity}),r.jsx("button",{onClick:()=>n(e.id,e.weight,e.fillings,e.quantity+1),className:"px-3 py-1 text-gray-600 hover:bg-gray-100",children:"+"})]})]}),(0,r.jsxs)("div",{className:"text-xl font-bold text-chocolate",children:[(e.price*e.quantity).toLocaleString()," ₽"]})]})]})]})},`${e.id}-${e.weight}-${e.fillings?.join("-")||"no-fillings"}-${t}`))})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 sticky top-24",children:[r.jsx("h2",{className:"text-2xl font-bold text-chocolate mb-6",children:"Итого"}),(0,r.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Товаров:"}),(0,r.jsxs)("span",{children:[x()," шт."]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-xl font-bold",children:[r.jsx("span",{children:"Сумма:"}),(0,r.jsxs)("span",{children:[o().toLocaleString()," ₽"]})]})]}),r.jsx(c(),{href:"/checkout",className:"btn-primary w-full py-3 text-center block mb-4",children:"Оформить заказ"}),r.jsx(c(),{href:"/catalog",className:"text-chocolate hover:underline text-center block",children:"← Продолжить покупки"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 mt-6",children:[r.jsx("h3",{className:"font-bold text-chocolate mb-3",children:"Промокод"}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx("input",{type:"text",placeholder:"Введите промокод",className:"flex-grow p-2 border border-gray-300 rounded-l"}),r.jsx("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-r",children:"Применить"})]})]})]})]})]})]})}},5244:(e,t)=>{var s;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")},9648:e=>{e.exports=import("axios")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[567,424,899,814],()=>s(6958));module.exports=r})();