(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[972],{2234:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/orders",function(){return s(221)}])},221:function(e,t,s){"use strict";s.r(t);var a=s(5893),n=s(7294),r=s(9008),c=s.n(r),l=s(1664),i=s.n(l),d=s(1163),m=s(2336);t.default=()=>{let[e,t]=(0,n.useState)([]),[s,r]=(0,n.useState)(!0),l=(0,d.useRouter)();(0,n.useEffect)(()=>{if(!m.k.isAuthenticated()){l.push("/login");return}setTimeout(()=>{t([{id:1001,date:"2023-12-15T14:30:00Z",status:"delivered",total:2400,items:[{id:1,product_name:"Медовик 1.5 кг",quantity:1,price:1700},{id:2,product_name:"Капкейки Ванильные 12 шт",quantity:1,price:700}]},{id:1002,date:"2023-12-10T11:15:00Z",status:"cancelled",total:1500,items:[{id:3,product_name:"Чёрный лес 1 кг",quantity:1,price:1500}]},{id:1003,date:"2023-12-05T09:45:00Z",status:"delivered",total:3200,items:[{id:4,product_name:"Три шоколада 2 кг",quantity:1,price:3200}]}]),r(!1)},800)},[l]);let o=e=>{switch(e){case"new":return"Новый";case"processing":return"В обработке";case"baking":return"Готовится";case"ready":return"Готов";case"delivered":return"Доставлен";case"cancelled":return"Отменён";default:return e}},u=e=>{switch(e){case"new":return"bg-blue-100 text-blue-800";case"processing":return"bg-yellow-100 text-yellow-800";case"baking":return"bg-orange-100 text-orange-800";case"ready":return"bg-green-100 text-green-800";case"delivered":return"bg-purple-100 text-purple-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s?(0,a.jsx)("div",{className:"min-h-screen bg-cream flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-xl",children:"Загрузка заказов..."})}):(0,a.jsxs)("div",{className:"min-h-screen bg-cream",children:[(0,a.jsxs)(c(),{children:[(0,a.jsx)("title",{children:"Мои заказы - Уездный Кондитер"}),(0,a.jsx)("meta",{name:"description",content:"История ваших заказов в кондитерской 'Уездный Кондитер'"})]}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-serif font-bold text-chocolate mb-2",children:"Мои заказы"}),(0,a.jsx)("p",{className:"text-gray-600",children:"История ваших покупок"})]}),(0,a.jsx)(i(),{href:"/account",className:"text-chocolate hover:underline",children:"← Назад в кабинет"})]})}),0===e.length?(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[(0,a.jsx)("div",{className:"text-5xl mb-4",children:"\uD83D\uDCE6"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-chocolate mb-4",children:"У вас пока нет заказов"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Сделайте первый заказ и он появится здесь"}),(0,a.jsx)(i(),{href:"/catalog",className:"btn-primary inline-block",children:"Перейти в каталог"})]}):(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:e.map(e=>(0,a.jsx)("div",{className:"border-b border-gray-200 last:border-b-0",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-bold",children:["Заказ №",e.id]}),(0,a.jsx)("p",{className:"text-gray-600",children:new Date(e.date).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsx)("div",{className:"mt-2 md:mt-0",children:(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(u(e.status)),children:o(e.status)})})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"Товары:"}),(0,a.jsx)("ul",{className:"space-y-2",children:e.items.map(e=>(0,a.jsxs)("li",{className:"flex justify-between",children:[(0,a.jsxs)("span",{children:[e.product_name," \xd7 ",e.quantity]}),(0,a.jsxs)("span",{children:[e.price.toLocaleString()," ₽"]})]},e.id))})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{className:"text-xl font-bold text-chocolate",children:["Итого: ",e.total.toLocaleString()," ₽"]}),(0,a.jsx)("button",{className:"mt-2 sm:mt-0 text-chocolate hover:underline",children:"Подробнее"})]})]})},e.id))})]})]})}},9008:function(e,t,s){e.exports=s(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=2234)}),_N_E=e.O()}]);