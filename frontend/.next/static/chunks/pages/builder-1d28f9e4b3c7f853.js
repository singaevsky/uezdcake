(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[99],{4870:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/builder",function(){return s(4711)}])},4711:function(e,t,s){"use strict";s.r(t);var l=s(5893),r=s(7294),c=s(9008),n=s.n(c),a=s(1664),i=s.n(a);t.default=()=>{let e;let[t,s]=(0,r.useState)("event"),[c,a]=(0,r.useState)({event:"",type:"",shape:"",weight:"",fillings:[],tiers:1,decoration:"",coating:"",colors:[],date:"",sketch:null,comment:""}),o=[{id:"event",title:"Событие"},{id:"type",title:"Тип"},{id:"shape",title:"Форма"},{id:"weight",title:"Вес"},{id:"fillings",title:"Начинки"},{id:"tiers",title:"Ярусы"},{id:"decoration",title:"Декор"},{id:"coating",title:"Покрытие"},{id:"colors",title:"Цвета"},{id:"date",title:"Дата"},{id:"sketch",title:"Эскиз"},{id:"comment",title:"Комментарий"}],d={tier:500,decoration:{flowers:300,fruits:200,chocolate:250,berries:150,nuts:100,confetti:50,inscription:200,figurines:400},coating:{cream:0,marzipan:200,glaze:150,chocolate:300,meringue:100}},m=(e,t)=>{a(s=>({...s,[e]:t}))},x=()=>{switch(t){case"event":return""!==c.event;case"type":return""!==c.type;case"shape":return""!==c.shape;case"weight":return""!==c.weight;case"fillings":return c.fillings.length>0;default:return!0}},h=o.findIndex(e=>e.id===t),g=(e=(({cake:1e3,bento:500,cupcake:100,macaron:50,pastry:300,muffin:200})[c.type]||1e3)+(({"0.5 кг":0,"1 кг":0,"1.5 кг":500,"2 кг":1e3,"2.5 кг":1500,"3 кг":2e3})[c.weight]||0),c.tiers>1&&(e+=d.tier*(c.tiers-1)),e+=(d.decoration[c.decoration]||0)+((d.coating[c.coating]||0)+100*c.fillings.length));return(0,l.jsxs)("div",{className:"min-h-screen bg-cream py-8",children:[(0,l.jsxs)(n(),{children:[(0,l.jsx)("title",{children:"Конструктор тортов - Уездный Кондитер"}),(0,l.jsx)("meta",{name:"description",content:"Создайте свой уникальный торт с помощью нашего онлайн-конструктора"})]}),(0,l.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-serif font-bold text-chocolate",children:"Конструктор тортов"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Создайте торт своей мечты шаг за шагом"})]}),(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("div",{className:"flex justify-between mb-2 text-sm",children:o.map((e,t)=>(0,l.jsx)("span",{className:"px-2 py-1 rounded-full ".concat(t<=h?"bg-chocolate text-white":"bg-gray-200 text-gray-600"),children:e.title},e.id))}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,l.jsx)("div",{className:"bg-chocolate h-2.5 rounded-full transition-all duration-500",style:{width:"".concat((h+1)/o.length*100,"%")}})})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[(()=>{switch(t){case"event":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Выберите событие"}),(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:["День рождения","Свадьба","Юбилей","Корпоратив","8 Марта","Детский праздник"].map(e=>(0,l.jsx)("button",{className:"p-3 border rounded-lg text-center hover:border-chocolate transition ".concat(c.event===e?"border-chocolate bg-rose-50 font-bold":"border-gray-300"),onClick:()=>m("event",e),children:e},e))})]});case"type":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Выберите тип десерта"}),(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[{name:"Торт",icon:"\uD83C\uDF82"},{name:"Бенто-торт",icon:"\uD83C\uDF71"},{name:"Капкейки",icon:"\uD83E\uDDC1"},{name:"Макарон",icon:"\uD83C\uDF6A"},{name:"Пирожное",icon:"\uD83C\uDF70"},{name:"Кекс",icon:"\uD83E\uDD6E"}].map(e=>(0,l.jsxs)("button",{className:"p-4 border rounded-lg text-center hover:border-chocolate transition flex flex-col items-center ".concat(c.type===e.name?"border-chocolate bg-rose-50 font-bold":"border-gray-300"),onClick:()=>m("type",e.name),children:[(0,l.jsx)("span",{className:"text-2xl mb-2",children:e.icon}),(0,l.jsx)("span",{children:e.name})]},e.name))})]});case"shape":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Выберите форму"}),(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{name:"Круг",icon:"⭕"},{name:"Квадрат",icon:"⬜"},{name:"Сердце",icon:"❤️"},{name:"Прямоугольник",icon:"▭"},{name:"Ромб",icon:"\uD83D\uDC8E"},{name:"Звезда",icon:"⭐"},{name:"Овал",icon:"\uD83E\uDD5A"},{name:"Произвольная",icon:"✏️"}].map(e=>(0,l.jsxs)("button",{className:"p-3 border rounded-lg text-center hover:border-chocolate transition ".concat(c.shape===e.name?"border-chocolate bg-rose-50 font-bold":"border-gray-300"),onClick:()=>m("shape",e.name),children:[(0,l.jsx)("div",{className:"text-xl mb-1",children:e.icon}),(0,l.jsx)("div",{className:"text-xs",children:e.name})]},e.name))})]});case"weight":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Выберите вес/порции"}),(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:[{weight:"0.5 кг",portions:"4 порции",price:"+0 ₽"},{weight:"1 кг",portions:"8 порций",price:"+0 ₽"},{weight:"1.5 кг",portions:"12 порций",price:"+500 ₽"},{weight:"2 кг",portions:"16 порций",price:"+1000 ₽"},{weight:"2.5 кг",portions:"20 порций",price:"+1500 ₽"},{weight:"3 кг",portions:"24 порции",price:"+2000 ₽"}].map(e=>(0,l.jsxs)("button",{className:"p-3 border rounded-lg text-center hover:border-chocolate transition ".concat(c.weight===e.weight?"border-chocolate bg-rose-50 font-bold":"border-gray-300"),onClick:()=>m("weight",e.weight),children:[(0,l.jsx)("div",{className:"font-bold",children:e.weight}),(0,l.jsx)("div",{className:"text-xs text-gray-600",children:e.portions}),(0,l.jsx)("div",{className:"text-xs text-chocolate",children:e.price})]},e.weight))})]});case"fillings":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Выберите начинки (до 3)"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-60 overflow-y-auto p-2",children:["Шоколадная с арахисом и карамелью","Творожно-ягодная","Ванильная с фруктами","Ореховая с медом","Крем-брюле","Малиновая с маком","Кофейная с шоколадом","Лимонная с малиной","Банановая с карамелью","Клубничная с сливками","Апельсиновая с шоколадом","Фисташковая с малиной"].map(e=>(0,l.jsx)("div",{onClick:()=>{let t=[...c.fillings];t.includes(e)?m("fillings",t.filter(t=>t!==e)):t.length<3&&m("fillings",[...t,e])},className:"p-3 border rounded-lg cursor-pointer transition ".concat(c.fillings.includes(e)?"border-chocolate bg-rose-50":"border-gray-300 hover:border-gray-400"),children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-5 h-5 rounded-full border mr-3 flex items-center justify-center ".concat(c.fillings.includes(e)?"bg-chocolate border-chocolate":"border-gray-400"),children:c.fillings.includes(e)&&(0,l.jsx)("span",{className:"text-white text-xs",children:"✓"})}),(0,l.jsx)("span",{className:"text-sm",children:e})]})},e))}),(0,l.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["Выбрано: ",c.fillings.length,"/3 начинок"]})]});case"tiers":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Выберите количество ярусов"}),(0,l.jsx)("div",{className:"flex justify-center space-x-6 my-6",children:[1,2,3].map(e=>(0,l.jsx)("button",{onClick:()=>m("tiers",e),className:"w-20 h-20 rounded-full border-4 flex items-center justify-center text-2xl font-bold transition ".concat(c.tiers===e?"border-chocolate bg-chocolate text-white":"border-gray-300 hover:border-gray-400"),"aria-label":"Выбрать ".concat(e," ярус").concat(1===e?"":2===e?"а":"ов"),children:e},e))}),(0,l.jsxs)("div",{className:"text-center text-gray-600",children:[1===c.tiers&&"Один ярус - классический торт",2===c.tiers&&"Два яруса - торжественный вид",3===c.tiers&&"Три яруса - максимальный эффект"]})]});case"decoration":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Выберите декор"}),(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[{name:"flowers",label:"Цветы",icon:"\uD83C\uDF38"},{name:"fruits",label:"Фрукты",icon:"\uD83C\uDF53"},{name:"chocolate",label:"Шоколад",icon:"\uD83C\uDF6B"},{name:"berries",label:"Ягоды",icon:"\uD83E\uDED0"},{name:"nuts",label:"Орехи",icon:"\uD83E\uDD5C"},{name:"confetti",label:"Конфетти",icon:"\uD83C\uDF89"},{name:"inscription",label:"Надписи",icon:"✍️"},{name:"figurines",label:"Фигурки",icon:"\uD83E\uDDF8"}].map(e=>(0,l.jsxs)("button",{onClick:()=>m("decoration",e.name),className:"p-3 border rounded-lg text-center hover:border-chocolate transition flex flex-col items-center ".concat(c.decoration===e.name?"border-chocolate bg-rose-50 font-bold":"border-gray-300"),children:[(0,l.jsx)("div",{className:"text-2xl mb-1",children:e.icon}),(0,l.jsx)("div",{className:"text-xs",children:e.label})]},e.name))})]});case"coating":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Выберите покрытие"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{name:"cream",label:"Крем",description:"Классический сливочный крем"},{name:"marzipan",label:"Мастика",description:"Гладкое покрытие для идеальных форм"},{name:"glaze",label:"Глазурь",description:"Блестящее зеркальное покрытие"},{name:"chocolate",label:"Шоколад",description:"Ганаш или темперированный шоколад"},{name:"meringue",label:"Меренга",description:"Воздушное итальянское покрытие"}].map(e=>(0,l.jsxs)("button",{onClick:()=>m("coating",e.name),className:"p-4 border rounded-lg text-left hover:border-chocolate transition ".concat(c.coating===e.name?"border-chocolate bg-rose-50 font-bold":"border-gray-300"),children:[(0,l.jsx)("div",{className:"font-bold",children:e.label}),(0,l.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:e.description})]},e.name))})]});case"colors":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Выберите цвета (до 2)"}),(0,l.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-9 gap-3",children:["#FF69B4","#FF1493","#FF6347","#FF4500","#FFD700","#FFA500","#ADFF2F","#32CD32","#00FF7F","#00CED1","#1E90FF","#4169E1","#8A2BE2","#9370DB","#FFB6C1","#F5DEB3","#FFFFFF","#000000"].map(e=>(0,l.jsx)("div",{onClick:()=>{let t=[...c.colors];t.includes(e)?m("colors",t.filter(t=>t!==e)):t.length<2&&m("colors",[...t,e])},className:"w-10 h-10 rounded-full border-2 cursor-pointer transition ".concat(c.colors.includes(e)?"border-chocolate ring-2 ring-chocolate":"border-gray-300"),style:{backgroundColor:e},"aria-label":"Выбрать цвет ".concat(e),children:c.colors.includes(e)&&(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white text-lg",children:"✓"})})},e))}),(0,l.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Выбрано: ",c.colors.length,"/2 цвета"]})]});case"date":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Выберите дату события"}),(0,l.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,l.jsx)("input",{type:"date",value:c.date,onChange:e=>m("date",e.target.value),min:new Date(Date.now()+2592e5).toISOString().split("T")[0],className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-chocolate focus:border-chocolate"}),(0,l.jsx)("div",{className:"mt-4 text-sm text-gray-600",children:"⚠️ Заказ на дату менее чем за 3 дня возможен только по телефону"})]})]});case"sketch":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Загрузите эскиз (опционально)"}),(0,l.jsx)("div",{className:"max-w-md mx-auto border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:c.sketch?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-green-600 mb-2",children:"✓ Файл загружен"}),(0,l.jsx)("div",{className:"text-sm text-gray-600 truncate",children:c.sketch.name}),(0,l.jsx)("button",{onClick:()=>m("sketch",null),className:"mt-2 text-red-500 hover:underline",children:"Удалить"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC1"}),(0,l.jsx)("p",{className:"mb-4",children:"Перетащите файл сюда или нажмите для выбора"}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]&&m("sketch",e.target.files[0])},className:"hidden",id:"sketch-upload"}),(0,l.jsx)("label",{htmlFor:"sketch-upload",className:"btn-secondary cursor-pointer",children:"Выбрать файл"}),(0,l.jsx)("div",{className:"mt-2 text-sm text-gray-600",children:"Поддерживаемые форматы: JPG, PNG, до 5 МБ"})]})})]});case"comment":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Добавьте комментарий к заказу"}),(0,l.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,l.jsx)("textarea",{value:c.comment,onChange:e=>m("comment",e.target.value),placeholder:"Например: сделать надпись 'С Днем Рождения!' крупными буквами",rows:5,className:"w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-chocolate focus:border-chocolate resize-none",maxLength:500}),(0,l.jsxs)("div",{className:"mt-2 text-sm text-gray-600 text-right",children:[c.comment.length,"/500 символов"]})]})]});default:return(0,l.jsxs)("div",{children:[(0,l.jsxs)("h3",{className:"text-xl font-bold mb-4",children:["Шаг: ",t]}),(0,l.jsxs)("p",{children:["Содержимое для шага ",t," будет реализовано позже."]})]})}})(),h>0&&(0,l.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-lg font-medium text-gray-700",children:"Примерная стоимость:"}),(0,l.jsxs)("span",{className:"text-xl font-bold text-chocolate",children:[g.toLocaleString("ru-RU")," ₽"]})]}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"* Окончательная цена будет уточнена после обработки заказа."})]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("button",{onClick:()=>{let e=o.findIndex(e=>e.id===t);e>0&&s(o[e-1].id)},disabled:0===h,className:"px-6 py-2 rounded-lg font-medium ".concat(0===h?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gray-300 text-gray-700 hover:bg-gray-400"),children:"Назад"}),h===o.length-1?(0,l.jsx)("button",{onClick:()=>alert("Заказ оформлен!"),className:"px-6 py-2 bg-chocolate text-white rounded-lg font-medium hover:bg-dark-chocolate",children:"Оформить заказ"}):(0,l.jsx)("button",{onClick:()=>{let e=o.findIndex(e=>e.id===t);e<o.length-1&&s(o[e+1].id)},disabled:!x(),className:"px-6 py-2 rounded-lg font-medium ".concat(x()?"bg-chocolate text-white hover:bg-dark-chocolate":"bg-gray-200 text-gray-500 cursor-not-allowed"),children:"Далее"})]}),(0,l.jsx)("div",{className:"mt-6 text-center",children:(0,l.jsx)(i(),{href:"/",className:"text-chocolate hover:underline",children:"← Вернуться на главную"})})]})]})}},9008:function(e,t,s){e.exports=s(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=4870)}),_N_E=e.O()}]);