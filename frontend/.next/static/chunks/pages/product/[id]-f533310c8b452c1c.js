(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{8871:function(e,s,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/[id]",function(){return i(4952)}])},4952:function(e,s,i){"use strict";i.r(s);var t=i(5893),l=i(7294),r=i(9008),c=i.n(r),a=i(1664),n=i.n(a),d=i(1163);s.default=()=>{let{id:e}=(0,d.useRouter)().query,[s,i]=(0,l.useState)(null),[r,a]=(0,l.useState)(!0),[o,m]=(0,l.useState)(""),[h,g]=(0,l.useState)([]),[x,p]=(0,l.useState)(1);(0,l.useEffect)(()=>{e&&setTimeout(()=>{let s={1:{id:1,name:"Медовик",price:1200,image:"/images/products/medovik.jpg",description:"Классический медовый торт с нежным сливочным кремом",detailed_description:"Наш фирменный медовик - это сочетание ароматных коржей, пропитанных натуральным медом, и воздушного сливочного крема. Каждый корж готовится по традиционному рецепту, что придает торту неповторимый вкус и аромат. Украшен карамелизированными краями коржей и посыпан молотым миндалем.",ingredients:["Мед натуральный","Мука пшеничная высшего сорта","Сливочное масло","Сахар","Яйца куриные","Сливки 33%","Ванильный экстракт","Сода пищевая"],weight_options:[{weight:"1 кг",price:1200},{weight:"1.5 кг",price:1700},{weight:"2 кг",price:2200}],fillings:["Медовая","Сливочный пломбир с ягодами","Творожно-ягодная"],category:"cakes",gallery:["/images/products/medovik-1.jpg","/images/products/medovik-2.jpg","/images/products/medovik-3.jpg"]},2:{id:2,name:"Чёрный лес",price:1500,image:"/images/products/cherny-les.jpg",description:"Шоколадный бисквит с вишней и взбитыми сливками",detailed_description:"Классический торт 'Чёрный лес' - это изысканное сочетание нежного шоколадного бисквита, кисло-сладкой вишни и воздушных сливок. Торт пропитан вишневым сиропом и украшен шоколадной стружкой и мараскиновыми вишенками.",ingredients:["Шоколад","Мука пшеничная","Яйца","Сахар","Сливочное масло","Сливки 33%","Вишня кислая","Вишневый сироп","Шоколадная стружка"],weight_options:[{weight:"1 кг",price:1500},{weight:"1.5 кг",price:2100},{weight:"2 кг",price:2700}],fillings:["Шоколадная с арахисом и карамелью","Вишня","Шоколадно-ванильная"],category:"cakes",gallery:["/images/products/cherny-les-1.jpg","/images/products/cherny-les-2.jpg"]}}[e];if(s){var t,l;i(s),m((null===(l=s.weight_options)||void 0===l?void 0:null===(t=l[0])||void 0===t?void 0:t.weight)||"")}else console.log("Продукт не найден");a(!1)},500)},[e]);let u=()=>{var e;if(!s||!o)return(null==s?void 0:s.price)||0;let i=null===(e=s.weight_options)||void 0===e?void 0:e.find(e=>e.weight===o);return i?i.price:s.price};return r?(0,t.jsx)("div",{className:"min-h-screen bg-cream flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-xl",children:"Загрузка..."})}):s?(0,t.jsxs)("div",{className:"min-h-screen bg-cream",children:[(0,t.jsxs)(c(),{children:[(0,t.jsxs)("title",{children:[s.name," - Уездный Кондитер"]}),(0,t.jsx)("meta",{name:"description",content:s.description})]}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)(n(),{href:"/catalog",className:"text-chocolate hover:underline flex items-center",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Назад в каталог"]})}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("img",{src:s.image,alt:s.name,className:"w-full h-96 object-cover rounded-lg"})}),s.gallery&&s.gallery.length>0&&(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:s.gallery.map((e,i)=>(0,t.jsx)("img",{src:e,alt:"".concat(s.name," ").concat(i+1),className:"w-full h-24 object-cover rounded cursor-pointer hover:opacity-75"},i))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("span",{className:"inline-block px-3 py-1 text-xs font-semibold text-chocolate bg-rose rounded-full",children:"cakes"===s.category?"Торт":"desserts"===s.category?"Десерт":"cupcakes"===s.category?"Капкейки":"Продукт"}),(0,t.jsx)("h1",{className:"text-3xl font-serif font-bold text-chocolate mt-2",children:s.name}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:s.description})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("p",{className:"text-2xl font-bold text-chocolate",children:[u().toLocaleString()," ₽",o&&(0,t.jsxs)("span",{className:"text-lg font-normal text-gray-600 ml-2",children:["за ",o]})]})}),s.weight_options&&s.weight_options.length>1&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Выберите вес:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:s.weight_options.map(e=>(0,t.jsxs)("button",{onClick:()=>m(e.weight),className:"px-4 py-2 border rounded-lg ".concat(o===e.weight?"border-chocolate bg-rose text-chocolate font-bold":"border-gray-300 hover:border-chocolate"),children:[e.weight," - ",e.price.toLocaleString()," ₽"]},e.weight))})]}),s.fillings&&s.fillings.length>0&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Выберите начинки (до 3):"}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:s.fillings.map(e=>(0,t.jsx)("div",{onClick:()=>{h.includes(e)?g(h.filter(s=>s!==e)):h.length<3&&g([...h,e])},className:"p-3 border rounded-lg cursor-pointer transition ".concat(h.includes(e)?"border-chocolate bg-rose":"border-gray-300 hover:border-gray-400"),children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded-full border mr-3 flex items-center justify-center ".concat(h.includes(e)?"bg-chocolate border-chocolate":"border-gray-400"),children:h.includes(e)&&(0,t.jsx)("span",{className:"text-white text-xs",children:"✓"})}),(0,t.jsx)("span",{children:e})]})},e))}),(0,t.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["Выбрано: ",h.length,"/3 начинок"]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Количество:"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("button",{onClick:()=>p(Math.max(1,x-1)),className:"w-10 h-10 flex items-center justify-center border border-gray-300 rounded-l",children:"-"}),(0,t.jsx)("div",{className:"w-16 h-10 flex items-center justify-center border-t border-b border-gray-300",children:x}),(0,t.jsx)("button",{onClick:()=>p(x+1),className:"w-10 h-10 flex items-center justify-center border border-gray-300 rounded-r",children:"+"})]})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("button",{onClick:()=>{if(!s)return;let e={id:s.id,name:s.name,price:u(),image:s.image,weight:o,fillings:h,quantity:x},i=JSON.parse(localStorage.getItem("cart")||"[]"),t=i.findIndex(s=>s.id===e.id&&s.weight===e.weight&&JSON.stringify(s.fillings)===JSON.stringify(e.fillings));t>-1?i[t].quantity+=x:i.push(e),localStorage.setItem("cart",JSON.stringify(i)),alert('Товар "'.concat(s.name,'" добавлен в корзину!'))},className:"w-full btn-primary py-3",children:"Добавить в корзину"})}),s.ingredients&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Ингредиенты:"}),(0,t.jsx)("ul",{className:"list-disc pl-5 text-gray-600",children:s.ingredients.map((e,s)=>(0,t.jsx)("li",{className:"mb-1",children:e},s))})]})]})]}),s.detailed_description&&(0,t.jsxs)("div",{className:"border-t border-gray-200 p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-serif font-bold text-chocolate mb-4",children:"Описание"}),(0,t.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:s.detailed_description})]})]})]})]}):(0,t.jsx)("div",{className:"min-h-screen bg-cream flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-chocolate mb-4",children:"Продукт не найден"}),(0,t.jsx)(n(),{href:"/catalog",className:"text-chocolate hover:underline",children:"← Вернуться в каталог"})]})})}},9008:function(e,s,i){e.exports=i(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8871)}),_N_E=e.O()}]);