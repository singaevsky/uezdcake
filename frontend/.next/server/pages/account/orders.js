"use strict";(()=>{var e={};e.id=972,e.ids=[972,888,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},7962:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>b,default:()=>m,getServerSideProps:()=>p,getStaticPaths:()=>h,getStaticProps:()=>x,reportWebVitals:()=>g,routeModule:()=>S,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>f});var a=r(7093),n=r(5244),i=r(1323),l=r(2899),c=r.n(l),d=r(6814),o=r(5164),u=e([d,o]);[d,o]=u.then?(await u)():u;let m=(0,i.l)(o,"default"),x=(0,i.l)(o,"getStaticProps"),h=(0,i.l)(o,"getStaticPaths"),p=(0,i.l)(o,"getServerSideProps"),b=(0,i.l)(o,"config"),g=(0,i.l)(o,"reportWebVitals"),f=(0,i.l)(o,"unstable_getStaticProps"),j=(0,i.l)(o,"unstable_getStaticPaths"),v=(0,i.l)(o,"unstable_getStaticParams"),P=(0,i.l)(o,"unstable_getServerProps"),y=(0,i.l)(o,"unstable_getServerSideProps"),S=new a.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/account/orders",pathname:"/account/orders",bundlePath:"",filename:""},components:{App:d.default,Document:c()},userland:o});s()}catch(e){s(e)}})},5164:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>x});var a=r(997),n=r(6689),i=r(968),l=r.n(i),c=r(1664),d=r.n(c),o=r(1163),u=r(3673),m=e([u]);u=(m.then?(await m)():m)[0];let x=()=>{let[e,t]=(0,n.useState)([]),[r,s]=(0,n.useState)(!0),i=(0,o.useRouter)();(0,n.useEffect)(()=>{if(!u.k.isAuthenticated()){i.push("/login");return}setTimeout(()=>{t([{id:1001,date:"2023-12-15T14:30:00Z",status:"delivered",total:2400,items:[{id:1,product_name:"Медовик 1.5 кг",quantity:1,price:1700},{id:2,product_name:"Капкейки Ванильные 12 шт",quantity:1,price:700}]},{id:1002,date:"2023-12-10T11:15:00Z",status:"cancelled",total:1500,items:[{id:3,product_name:"Чёрный лес 1 кг",quantity:1,price:1500}]},{id:1003,date:"2023-12-05T09:45:00Z",status:"delivered",total:3200,items:[{id:4,product_name:"Три шоколада 2 кг",quantity:1,price:3200}]}]),s(!1)},800)},[i]);let c=e=>{switch(e){case"new":return"Новый";case"processing":return"В обработке";case"baking":return"Готовится";case"ready":return"Готов";case"delivered":return"Доставлен";case"cancelled":return"Отменён";default:return e}},m=e=>{switch(e){case"new":return"bg-blue-100 text-blue-800";case"processing":return"bg-yellow-100 text-yellow-800";case"baking":return"bg-orange-100 text-orange-800";case"ready":return"bg-green-100 text-green-800";case"delivered":return"bg-purple-100 text-purple-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r?a.jsx("div",{className:"min-h-screen bg-cream flex items-center justify-center",children:a.jsx("div",{className:"text-xl",children:"Загрузка заказов..."})}):(0,a.jsxs)("div",{className:"min-h-screen bg-cream",children:[(0,a.jsxs)(l(),{children:[a.jsx("title",{children:"Мои заказы - Уездный Кондитер"}),a.jsx("meta",{name:"description",content:"История ваших заказов в кондитерской 'Уездный Кондитер'"})]}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-serif font-bold text-chocolate mb-2",children:"Мои заказы"}),a.jsx("p",{className:"text-gray-600",children:"История ваших покупок"})]}),a.jsx(d(),{href:"/account",className:"text-chocolate hover:underline",children:"← Назад в кабинет"})]})}),0===e.length?(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[a.jsx("div",{className:"text-5xl mb-4",children:"\uD83D\uDCE6"}),a.jsx("h2",{className:"text-2xl font-bold text-chocolate mb-4",children:"У вас пока нет заказов"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Сделайте первый заказ и он появится здесь"}),a.jsx(d(),{href:"/catalog",className:"btn-primary inline-block",children:"Перейти в каталог"})]}):a.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:e.map(e=>a.jsx("div",{className:"border-b border-gray-200 last:border-b-0",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-bold",children:["Заказ №",e.id]}),a.jsx("p",{className:"text-gray-600",children:new Date(e.date).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),a.jsx("div",{className:"mt-2 md:mt-0",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${m(e.status)}`,children:c(e.status)})})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Товары:"}),a.jsx("ul",{className:"space-y-2",children:e.items.map(e=>(0,a.jsxs)("li",{className:"flex justify-between",children:[(0,a.jsxs)("span",{children:[e.product_name," \xd7 ",e.quantity]}),(0,a.jsxs)("span",{children:[e.price.toLocaleString()," ₽"]})]},e.id))})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{className:"text-xl font-bold text-chocolate",children:["Итого: ",e.total.toLocaleString()," ₽"]}),a.jsx("button",{className:"mt-2 sm:mt-0 text-chocolate hover:underline",children:"Подробнее"})]})]})},e.id))})]})]})};s()}catch(e){s(e)}})},5244:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")},9648:e=>{e.exports=import("axios")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[567,424,899,814],()=>r(7962));module.exports=s})();