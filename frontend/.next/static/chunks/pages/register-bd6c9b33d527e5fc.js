(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{4722:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return l(396)}])},396:function(e,s,l){"use strict";l.r(s);var a=l(5893),t=l(7294),r=l(9008),i=l.n(r),n=l(1664),d=l.n(n),c=l(1163),m=l(2336);s.default=()=>{let[e,s]=(0,t.useState)({username:"",email:"",password:"",first_name:"",last_name:"",phone:""}),[l,r]=(0,t.useState)(!1),[n,o]=(0,t.useState)(null),x=(0,c.useRouter)(),h=e=>{let{name:l,value:a}=e.target;s(e=>({...e,[l]:a}))},u=async s=>{s.preventDefault(),r(!0),o(null);try{await m.k.register(e),x.push("/account")}catch(e){var l,a;o((null===(a=e.response)||void 0===a?void 0:null===(l=a.data)||void 0===l?void 0:l.detail)||"Ошибка регистрации. Попробуйте еще раз.")}finally{r(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-cream flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Регистрация - Уездный Кондитер"}),(0,a.jsx)("meta",{name:"description",content:"Создайте аккаунт в кондитерской 'Уездный Кондитер'"})]}),(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-center text-3xl font-serif font-bold text-chocolate",children:"Уездный Кондитер"}),(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Создайте аккаунт"})]}),(0,a.jsxs)("div",{className:"bg-white py-8 px-4 shadow rounded-lg sm:px-10",children:[n&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:n}),(0,a.jsxs)("form",{className:"space-y-6",onSubmit:u,children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"Имя"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{id:"first_name",name:"first_name",type:"text",required:!0,value:e.first_name,onChange:h,className:"input-field w-full",placeholder:"Введите ваше имя"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Фамилия"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{id:"last_name",name:"last_name",type:"text",required:!0,value:e.last_name,onChange:h,className:"input-field w-full",placeholder:"Введите вашу фамилию"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Имя пользователя"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{id:"username",name:"username",type:"text",required:!0,value:e.username,onChange:h,className:"input-field w-full",placeholder:"Выберите имя пользователя"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:h,className:"input-field w-full",placeholder:"your@email.com"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Телефон"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{id:"phone",name:"phone",type:"tel",required:!0,value:e.phone,onChange:h,className:"input-field w-full",placeholder:"+7 (XXX) XXX-XX-XX"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Пароль"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:e.password,onChange:h,className:"input-field w-full",placeholder:"Создайте пароль"})})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-chocolate focus:ring-chocolate border-gray-300 rounded"}),(0,a.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["Я согласен с ",(0,a.jsx)(d(),{href:"/offer",className:"text-chocolate hover:underline",children:"условиями использования"})," и ",(0,a.jsx)(d(),{href:"/privacy",className:"text-chocolate hover:underline",children:"политикой конфиденциальности"})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:l,className:"w-full btn-primary flex justify-center py-2 px-4 ".concat(l?"opacity-50 cursor-not-allowed":""),children:l?"Регистрация...":"Зарегистрироваться"})})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Или зарегистрируйтесь с"})})]}),(0,a.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-3",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,a.jsx)("span",{className:"sr-only",children:"Sign up with Facebook"}),(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M20 10c0-5.523-4.477-10-10-10S0 4.477 0 10c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V10h2.54V7.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V10h2.773l-.443 2.89h-2.33v6.988C16.343 19.128 20 14.991 20 10z",clipRule:"evenodd"})})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,a.jsx)("span",{className:"sr-only",children:"Sign up with Google"}),(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,a.jsx)("path",{d:"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"})})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,a.jsx)("span",{className:"sr-only",children:"Sign up with VK"}),(0,a.jsx)("span",{className:"text-lg font-bold",children:"VK"})]})})]})]})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Уже есть аккаунт?"," ",(0,a.jsx)(d(),{href:"/login",className:"font-medium text-chocolate hover:text-dark-chocolate",children:"Войдите"})]})})]})]})}},9008:function(e,s,l){e.exports=l(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=4722)}),_N_E=e.O()}]);