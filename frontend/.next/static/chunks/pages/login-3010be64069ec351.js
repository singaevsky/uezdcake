(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(4070)}])},4070:function(e,s,t){"use strict";t.r(s);var l=t(5893),r=t(7294),a=t(9008),n=t.n(a),i=t(1664),c=t.n(i),d=t(1163),o=t(2336);s.default=()=>{let[e,s]=(0,r.useState)({username:"",password:""}),[t,a]=(0,r.useState)(!1),[i,m]=(0,r.useState)(null),x=(0,d.useRouter)(),h=e=>{let{name:t,value:l}=e.target;s(e=>({...e,[t]:l}))},u=async s=>{var t,l,r;s.preventDefault(),a(!0),m(null);try{await o.k.login(e);let s=(null===(t=x.query.returnUrl)||void 0===t?void 0:t.toString())||"/account";x.push(s)}catch(e){m((null===(r=e.response)||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:l.error)||"Ошибка авторизации. Проверьте логин и пароль.")}finally{a(!1)}};return(0,l.jsxs)("div",{className:"min-h-screen bg-cream flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[(0,l.jsxs)(n(),{children:[(0,l.jsx)("title",{children:"Вход - Уездный Кондитер"}),(0,l.jsx)("meta",{name:"description",content:"Войдите в свой аккаунт в кондитерской 'Уездный Кондитер'"})]}),(0,l.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-center text-3xl font-serif font-bold text-chocolate",children:"Уездный Кондитер"}),(0,l.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Войдите в свой аккаунт"})]}),(0,l.jsxs)("div",{className:"bg-white py-8 px-4 shadow rounded-lg sm:px-10",children:[i&&(0,l.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:i}),(0,l.jsxs)("form",{className:"space-y-6",onSubmit:u,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Имя пользователя или Email"}),(0,l.jsx)("div",{className:"mt-1",children:(0,l.jsx)("input",{id:"username",name:"username",type:"text",required:!0,value:e.username,onChange:h,className:"input-field w-full",placeholder:"Введите имя пользователя или email"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Пароль"}),(0,l.jsx)("div",{className:"mt-1",children:(0,l.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:e.password,onChange:h,className:"input-field w-full",placeholder:"Введите пароль"})})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-chocolate focus:ring-chocolate border-gray-300 rounded"}),(0,l.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Запомнить меня"})]}),(0,l.jsx)("div",{className:"text-sm",children:(0,l.jsx)(c(),{href:"/forgot-password",className:"font-medium text-chocolate hover:text-dark-chocolate",children:"Забыли пароль?"})})]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{type:"submit",disabled:t,className:"w-full btn-primary flex justify-center py-2 px-4 ".concat(t?"opacity-50 cursor-not-allowed":""),children:t?"Вход...":"Войти"})})]}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,l.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,l.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,l.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Или продолжите с"})})]}),(0,l.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-3",children:[(0,l.jsx)("div",{children:(0,l.jsxs)("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,l.jsx)("span",{className:"sr-only",children:"Sign in with Facebook"}),(0,l.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M20 10c0-5.523-4.477-10-10-10S0 4.477 0 10c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V10h2.54V7.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V10h2.773l-.443 2.89h-2.33v6.988C16.343 19.128 20 14.991 20 10z",clipRule:"evenodd"})})]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,l.jsx)("span",{className:"sr-only",children:"Sign in with Google"}),(0,l.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,l.jsx)("path",{d:"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"})})]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,l.jsx)("span",{className:"sr-only",children:"Sign in with VK"}),(0,l.jsx)("span",{className:"text-lg font-bold",children:"VK"})]})})]})]})]}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Нет аккаунта?"," ",(0,l.jsx)(c(),{href:"/register",className:"font-medium text-chocolate hover:text-dark-chocolate",children:"Зарегистрируйтесь"})]})})]})]})}},9008:function(e,s,t){e.exports=t(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);