"use strict";(()=>{var e={};e.id=99,e.ids=[99,888,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},1865:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>b,default:()=>x,getServerSideProps:()=>g,getStaticPaths:()=>u,getStaticProps:()=>h,reportWebVitals:()=>p,routeModule:()=>w,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>f});var l=r(7093),i=r(5244),a=r(1323),n=r(2899),c=r.n(n),o=r(6814),d=r(9112),m=e([o]);o=(m.then?(await m)():m)[0];let x=(0,a.l)(d,"default"),h=(0,a.l)(d,"getStaticProps"),u=(0,a.l)(d,"getStaticPaths"),g=(0,a.l)(d,"getServerSideProps"),b=(0,a.l)(d,"config"),p=(0,a.l)(d,"reportWebVitals"),f=(0,a.l)(d,"unstable_getStaticProps"),j=(0,a.l)(d,"unstable_getStaticPaths"),v=(0,a.l)(d,"unstable_getStaticParams"),N=(0,a.l)(d,"unstable_getServerProps"),y=(0,a.l)(d,"unstable_getServerSideProps"),w=new l.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/builder",pathname:"/builder",bundlePath:"",filename:""},components:{App:o.default,Document:c()},userland:d});s()}catch(e){s(e)}})},9112:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var s=r(997),l=r(6689),i=r(968),a=r.n(i),n=r(1664),c=r.n(n);let o=()=>{let[e,t]=(0,l.useState)("event"),[r,i]=(0,l.useState)({event:"",type:"",shape:"",weight:"",fillings:[],tiers:1,decoration:"",coating:"",colors:[],date:"",sketch:null,comment:""}),n=[{id:"event",title:"Событие"},{id:"type",title:"Тип"},{id:"shape",title:"Форма"},{id:"weight",title:"Вес"},{id:"fillings",title:"Начинки"},{id:"tiers",title:"Ярусы"},{id:"decoration",title:"Декор"},{id:"coating",title:"Покрытие"},{id:"colors",title:"Цвета"},{id:"date",title:"Дата"},{id:"sketch",title:"Эскиз"},{id:"comment",title:"Комментарий"}],o={cake:1e3,bento:500,cupcake:100,macaron:50,pastry:300,muffin:200},d={tier:500,decoration:{flowers:300,fruits:200,chocolate:250,berries:150,nuts:100,confetti:50,inscription:200,figurines:400},coating:{cream:0,marzipan:200,glaze:150,chocolate:300,meringue:100}},m=(e,t)=>{i(r=>({...r,[e]:t}))},x=()=>{switch(e){case"event":return""!==r.event;case"type":return""!==r.type;case"shape":return""!==r.shape;case"weight":return""!==r.weight;case"fillings":return r.fillings.length>0;default:return!0}},h=n.findIndex(t=>t.id===e),u=(()=>{let e=o[r.type]||1e3;return e+=({"0.5 кг":0,"1 кг":0,"1.5 кг":500,"2 кг":1e3,"2.5 кг":1500,"3 кг":2e3})[r.weight]||0,r.tiers>1&&(e+=d.tier*(r.tiers-1)),e+=(d.decoration[r.decoration]||0)+((d.coating[r.coating]||0)+100*r.fillings.length)})();return(0,s.jsxs)("div",{className:"min-h-screen bg-cream py-8",children:[(0,s.jsxs)(a(),{children:[s.jsx("title",{children:"Конструктор тортов - Уездный Кондитер"}),s.jsx("meta",{name:"description",content:"Создайте свой уникальный торт с помощью нашего онлайн-конструктора"})]}),(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-serif font-bold text-chocolate",children:"Конструктор тортов"}),s.jsx("p",{className:"text-gray-600",children:"Создайте торт своей мечты шаг за шагом"})]}),(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("div",{className:"flex justify-between mb-2 text-sm",children:n.map((e,t)=>s.jsx("span",{className:`px-2 py-1 rounded-full ${t<=h?"bg-chocolate text-white":"bg-gray-200 text-gray-600"}`,children:e.title},e.id))}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-chocolate h-2.5 rounded-full transition-all duration-500",style:{width:`${(h+1)/n.length*100}%`}})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[(()=>{switch(e){case"event":return(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Выберите событие"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:["День рождения","Свадьба","Юбилей","Корпоратив","8 Марта","Детский праздник"].map(e=>s.jsx("button",{className:`p-3 border rounded-lg text-center hover:border-chocolate transition ${r.event===e?"border-chocolate bg-rose-50 font-bold":"border-gray-300"}`,onClick:()=>m("event",e),children:e},e))})]});case"type":return(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Выберите тип десерта"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[{name:"Торт",icon:"\uD83C\uDF82"},{name:"Бенто-торт",icon:"\uD83C\uDF71"},{name:"Капкейки",icon:"\uD83E\uDDC1"},{name:"Макарон",icon:"\uD83C\uDF6A"},{name:"Пирожное",icon:"\uD83C\uDF70"},{name:"Кекс",icon:"\uD83E\uDD6E"}].map(e=>(0,s.jsxs)("button",{className:`p-4 border rounded-lg text-center hover:border-chocolate transition flex flex-col items-center ${r.type===e.name?"border-chocolate bg-rose-50 font-bold":"border-gray-300"}`,onClick:()=>m("type",e.name),children:[s.jsx("span",{className:"text-2xl mb-2",children:e.icon}),s.jsx("span",{children:e.name})]},e.name))})]});case"shape":return(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Выберите форму"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{name:"Круг",icon:"⭕"},{name:"Квадрат",icon:"⬜"},{name:"Сердце",icon:"❤️"},{name:"Прямоугольник",icon:"▭"},{name:"Ромб",icon:"\uD83D\uDC8E"},{name:"Звезда",icon:"⭐"},{name:"Овал",icon:"\uD83E\uDD5A"},{name:"Произвольная",icon:"✏️"}].map(e=>(0,s.jsxs)("button",{className:`p-3 border rounded-lg text-center hover:border-chocolate transition ${r.shape===e.name?"border-chocolate bg-rose-50 font-bold":"border-gray-300"}`,onClick:()=>m("shape",e.name),children:[s.jsx("div",{className:"text-xl mb-1",children:e.icon}),s.jsx("div",{className:"text-xs",children:e.name})]},e.name))})]});case"weight":return(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Выберите вес/порции"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:[{weight:"0.5 кг",portions:"4 порции",price:"+0 ₽"},{weight:"1 кг",portions:"8 порций",price:"+0 ₽"},{weight:"1.5 кг",portions:"12 порций",price:"+500 ₽"},{weight:"2 кг",portions:"16 порций",price:"+1000 ₽"},{weight:"2.5 кг",portions:"20 порций",price:"+1500 ₽"},{weight:"3 кг",portions:"24 порции",price:"+2000 ₽"}].map(e=>(0,s.jsxs)("button",{className:`p-3 border rounded-lg text-center hover:border-chocolate transition ${r.weight===e.weight?"border-chocolate bg-rose-50 font-bold":"border-gray-300"}`,onClick:()=>m("weight",e.weight),children:[s.jsx("div",{className:"font-bold",children:e.weight}),s.jsx("div",{className:"text-xs text-gray-600",children:e.portions}),s.jsx("div",{className:"text-xs text-chocolate",children:e.price})]},e.weight))})]});case"fillings":return(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Выберите начинки (до 3)"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-60 overflow-y-auto p-2",children:["Шоколадная с арахисом и карамелью","Творожно-ягодная","Ванильная с фруктами","Ореховая с медом","Крем-брюле","Малиновая с маком","Кофейная с шоколадом","Лимонная с малиной","Банановая с карамелью","Клубничная с сливками","Апельсиновая с шоколадом","Фисташковая с малиной"].map(e=>s.jsx("div",{onClick:()=>{let t=[...r.fillings];t.includes(e)?m("fillings",t.filter(t=>t!==e)):t.length<3&&m("fillings",[...t,e])},className:`p-3 border rounded-lg cursor-pointer transition ${r.fillings.includes(e)?"border-chocolate bg-rose-50":"border-gray-300 hover:border-gray-400"}`,children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-5 h-5 rounded-full border mr-3 flex items-center justify-center ${r.fillings.includes(e)?"bg-chocolate border-chocolate":"border-gray-400"}`,children:r.fillings.includes(e)&&s.jsx("span",{className:"text-white text-xs",children:"✓"})}),s.jsx("span",{className:"text-sm",children:e})]})},e))}),(0,s.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["Выбрано: ",r.fillings.length,"/3 начинок"]})]});case"tiers":return(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Выберите количество ярусов"}),s.jsx("div",{className:"flex justify-center space-x-6 my-6",children:[1,2,3].map(e=>s.jsx("button",{onClick:()=>m("tiers",e),className:`w-20 h-20 rounded-full border-4 flex items-center justify-center text-2xl font-bold transition ${r.tiers===e?"border-chocolate bg-chocolate text-white":"border-gray-300 hover:border-gray-400"}`,"aria-label":`Выбрать ${e} ярус${1===e?"":2===e?"а":"ов"}`,children:e},e))}),(0,s.jsxs)("div",{className:"text-center text-gray-600",children:[1===r.tiers&&"Один ярус - классический торт",2===r.tiers&&"Два яруса - торжественный вид",3===r.tiers&&"Три яруса - максимальный эффект"]})]});case"decoration":return(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Выберите декор"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[{name:"flowers",label:"Цветы",icon:"\uD83C\uDF38"},{name:"fruits",label:"Фрукты",icon:"\uD83C\uDF53"},{name:"chocolate",label:"Шоколад",icon:"\uD83C\uDF6B"},{name:"berries",label:"Ягоды",icon:"\uD83E\uDED0"},{name:"nuts",label:"Орехи",icon:"\uD83E\uDD5C"},{name:"confetti",label:"Конфетти",icon:"\uD83C\uDF89"},{name:"inscription",label:"Надписи",icon:"✍️"},{name:"figurines",label:"Фигурки",icon:"\uD83E\uDDF8"}].map(e=>(0,s.jsxs)("button",{onClick:()=>m("decoration",e.name),className:`p-3 border rounded-lg text-center hover:border-chocolate transition flex flex-col items-center ${r.decoration===e.name?"border-chocolate bg-rose-50 font-bold":"border-gray-300"}`,children:[s.jsx("div",{className:"text-2xl mb-1",children:e.icon}),s.jsx("div",{className:"text-xs",children:e.label})]},e.name))})]});case"coating":return(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Выберите покрытие"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{name:"cream",label:"Крем",description:"Классический сливочный крем"},{name:"marzipan",label:"Мастика",description:"Гладкое покрытие для идеальных форм"},{name:"glaze",label:"Глазурь",description:"Блестящее зеркальное покрытие"},{name:"chocolate",label:"Шоколад",description:"Ганаш или темперированный шоколад"},{name:"meringue",label:"Меренга",description:"Воздушное итальянское покрытие"}].map(e=>(0,s.jsxs)("button",{onClick:()=>m("coating",e.name),className:`p-4 border rounded-lg text-left hover:border-chocolate transition ${r.coating===e.name?"border-chocolate bg-rose-50 font-bold":"border-gray-300"}`,children:[s.jsx("div",{className:"font-bold",children:e.label}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:e.description})]},e.name))})]});case"colors":return(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Выберите цвета (до 2)"}),s.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-9 gap-3",children:["#FF69B4","#FF1493","#FF6347","#FF4500","#FFD700","#FFA500","#ADFF2F","#32CD32","#00FF7F","#00CED1","#1E90FF","#4169E1","#8A2BE2","#9370DB","#FFB6C1","#F5DEB3","#FFFFFF","#000000"].map(e=>s.jsx("div",{onClick:()=>{let t=[...r.colors];t.includes(e)?m("colors",t.filter(t=>t!==e)):t.length<2&&m("colors",[...t,e])},className:`w-10 h-10 rounded-full border-2 cursor-pointer transition ${r.colors.includes(e)?"border-chocolate ring-2 ring-chocolate":"border-gray-300"}`,style:{backgroundColor:e},"aria-label":`Выбрать цвет ${e}`,children:r.colors.includes(e)&&s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-lg",children:"✓"})})},e))}),(0,s.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Выбрано: ",r.colors.length,"/2 цвета"]})]});case"date":return(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Выберите дату события"}),(0,s.jsxs)("div",{className:"max-w-md mx-auto",children:[s.jsx("input",{type:"date",value:r.date,onChange:e=>m("date",e.target.value),min:new Date(Date.now()+2592e5).toISOString().split("T")[0],className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-chocolate focus:border-chocolate"}),s.jsx("div",{className:"mt-4 text-sm text-gray-600",children:"⚠️ Заказ на дату менее чем за 3 дня возможен только по телефону"})]})]});case"sketch":return(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Загрузите эскиз (опционально)"}),s.jsx("div",{className:"max-w-md mx-auto border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:r.sketch?(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-green-600 mb-2",children:"✓ Файл загружен"}),s.jsx("div",{className:"text-sm text-gray-600 truncate",children:r.sketch.name}),s.jsx("button",{onClick:()=>m("sketch",null),className:"mt-2 text-red-500 hover:underline",children:"Удалить"})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC1"}),s.jsx("p",{className:"mb-4",children:"Перетащите файл сюда или нажмите для выбора"}),s.jsx("input",{type:"file",accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]&&m("sketch",e.target.files[0])},className:"hidden",id:"sketch-upload"}),s.jsx("label",{htmlFor:"sketch-upload",className:"btn-secondary cursor-pointer",children:"Выбрать файл"}),s.jsx("div",{className:"mt-2 text-sm text-gray-600",children:"Поддерживаемые форматы: JPG, PNG, до 5 МБ"})]})})]});case"comment":return(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Добавьте комментарий к заказу"}),(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[s.jsx("textarea",{value:r.comment,onChange:e=>m("comment",e.target.value),placeholder:"Например: сделать надпись 'С Днем Рождения!' крупными буквами",rows:5,className:"w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-chocolate focus:border-chocolate resize-none",maxLength:500}),(0,s.jsxs)("div",{className:"mt-2 text-sm text-gray-600 text-right",children:[r.comment.length,"/500 символов"]})]})]});default:return(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-xl font-bold mb-4",children:["Шаг: ",e]}),(0,s.jsxs)("p",{children:["Содержимое для шага ",e," будет реализовано позже."]})]})}})(),h>0&&(0,s.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Примерная стоимость:"}),(0,s.jsxs)("span",{className:"text-xl font-bold text-chocolate",children:[u.toLocaleString("ru-RU")," ₽"]})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"* Окончательная цена будет уточнена после обработки заказа."})]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:()=>{let r=n.findIndex(t=>t.id===e);r>0&&t(n[r-1].id)},disabled:0===h,className:`px-6 py-2 rounded-lg font-medium ${0===h?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gray-300 text-gray-700 hover:bg-gray-400"}`,children:"Назад"}),h===n.length-1?s.jsx("button",{onClick:()=>alert("Заказ оформлен!"),className:"px-6 py-2 bg-chocolate text-white rounded-lg font-medium hover:bg-dark-chocolate",children:"Оформить заказ"}):s.jsx("button",{onClick:()=>{let r=n.findIndex(t=>t.id===e);r<n.length-1&&t(n[r+1].id)},disabled:!x(),className:`px-6 py-2 rounded-lg font-medium ${x()?"bg-chocolate text-white hover:bg-dark-chocolate":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Далее"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(c(),{href:"/",className:"text-chocolate hover:underline",children:"← Вернуться на главную"})})]})]})}},5244:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")},9648:e=>{e.exports=import("axios")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[567,424,899,814],()=>r(1865));module.exports=s})();