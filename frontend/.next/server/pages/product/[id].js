"use strict";(()=>{var e={};e.id=360,e.ids=[360,888,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},5173:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>u,default:()=>g,getServerSideProps:()=>p,getStaticPaths:()=>x,getStaticProps:()=>h,reportWebVitals:()=>b,routeModule:()=>w,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>f});var i=s(7093),l=s(5244),a=s(1323),c=s(2899),n=s.n(c),d=s(6814),o=s(6554),m=e([d]);d=(m.then?(await m)():m)[0];let g=(0,a.l)(o,"default"),h=(0,a.l)(o,"getStaticProps"),x=(0,a.l)(o,"getStaticPaths"),p=(0,a.l)(o,"getServerSideProps"),u=(0,a.l)(o,"config"),b=(0,a.l)(o,"reportWebVitals"),f=(0,a.l)(o,"unstable_getStaticProps"),j=(0,a.l)(o,"unstable_getStaticPaths"),v=(0,a.l)(o,"unstable_getStaticParams"),N=(0,a.l)(o,"unstable_getServerProps"),y=(0,a.l)(o,"unstable_getServerSideProps"),w=new i.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/product/[id]",pathname:"/product/[id]",bundlePath:"",filename:""},components:{App:d.default,Document:n()},userland:o});r()}catch(e){r(e)}})},6554:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var r=s(997),i=s(6689),l=s(968),a=s.n(l),c=s(1664),n=s.n(c),d=s(1163);let o=()=>{let{id:e}=(0,d.useRouter)().query,[t,s]=(0,i.useState)(null),[l,c]=(0,i.useState)(!0),[o,m]=(0,i.useState)(""),[g,h]=(0,i.useState)([]),[x,p]=(0,i.useState)(1);(0,i.useEffect)(()=>{e&&setTimeout(()=>{let t={1:{id:1,name:"Медовик",price:1200,image:"/images/products/medovik.jpg",description:"Классический медовый торт с нежным сливочным кремом",detailed_description:"Наш фирменный медовик - это сочетание ароматных коржей, пропитанных натуральным медом, и воздушного сливочного крема. Каждый корж готовится по традиционному рецепту, что придает торту неповторимый вкус и аромат. Украшен карамелизированными краями коржей и посыпан молотым миндалем.",ingredients:["Мед натуральный","Мука пшеничная высшего сорта","Сливочное масло","Сахар","Яйца куриные","Сливки 33%","Ванильный экстракт","Сода пищевая"],weight_options:[{weight:"1 кг",price:1200},{weight:"1.5 кг",price:1700},{weight:"2 кг",price:2200}],fillings:["Медовая","Сливочный пломбир с ягодами","Творожно-ягодная"],category:"cakes",gallery:["/images/products/medovik-1.jpg","/images/products/medovik-2.jpg","/images/products/medovik-3.jpg"]},2:{id:2,name:"Чёрный лес",price:1500,image:"/images/products/cherny-les.jpg",description:"Шоколадный бисквит с вишней и взбитыми сливками",detailed_description:"Классический торт 'Чёрный лес' - это изысканное сочетание нежного шоколадного бисквита, кисло-сладкой вишни и воздушных сливок. Торт пропитан вишневым сиропом и украшен шоколадной стружкой и мараскиновыми вишенками.",ingredients:["Шоколад","Мука пшеничная","Яйца","Сахар","Сливочное масло","Сливки 33%","Вишня кислая","Вишневый сироп","Шоколадная стружка"],weight_options:[{weight:"1 кг",price:1500},{weight:"1.5 кг",price:2100},{weight:"2 кг",price:2700}],fillings:["Шоколадная с арахисом и карамелью","Вишня","Шоколадно-ванильная"],category:"cakes",gallery:["/images/products/cherny-les-1.jpg","/images/products/cherny-les-2.jpg"]}}[e];t?(s(t),m(t.weight_options?.[0]?.weight||"")):console.log("Продукт не найден"),c(!1)},500)},[e]);let u=()=>{if(!t||!o)return t?.price||0;let e=t.weight_options?.find(e=>e.weight===o);return e?e.price:t.price};return l?r.jsx("div",{className:"min-h-screen bg-cream flex items-center justify-center",children:r.jsx("div",{className:"text-xl",children:"Загрузка..."})}):t?(0,r.jsxs)("div",{className:"min-h-screen bg-cream",children:[(0,r.jsxs)(a(),{children:[(0,r.jsxs)("title",{children:[t.name," - Уездный Кондитер"]}),r.jsx("meta",{name:"description",content:t.description})]}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"mb-6",children:(0,r.jsxs)(n(),{href:"/catalog",className:"text-chocolate hover:underline flex items-center",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Назад в каталог"]})}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-6",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"mb-4",children:r.jsx("img",{src:t.image,alt:t.name,className:"w-full h-96 object-cover rounded-lg"})}),t.gallery&&t.gallery.length>0&&r.jsx("div",{className:"grid grid-cols-3 gap-2",children:t.gallery.map((e,s)=>r.jsx("img",{src:e,alt:`${t.name} ${s+1}`,className:"w-full h-24 object-cover rounded cursor-pointer hover:opacity-75"},s))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("span",{className:"inline-block px-3 py-1 text-xs font-semibold text-chocolate bg-rose rounded-full",children:"cakes"===t.category?"Торт":"desserts"===t.category?"Десерт":"cupcakes"===t.category?"Капкейки":"Продукт"}),r.jsx("h1",{className:"text-3xl font-serif font-bold text-chocolate mt-2",children:t.name}),r.jsx("p",{className:"text-gray-600 mt-2",children:t.description})]}),r.jsx("div",{className:"mb-6",children:(0,r.jsxs)("p",{className:"text-2xl font-bold text-chocolate",children:[u().toLocaleString()," ₽",o&&(0,r.jsxs)("span",{className:"text-lg font-normal text-gray-600 ml-2",children:["за ",o]})]})}),t.weight_options&&t.weight_options.length>1&&(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Выберите вес:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.weight_options.map(e=>(0,r.jsxs)("button",{onClick:()=>m(e.weight),className:`px-4 py-2 border rounded-lg ${o===e.weight?"border-chocolate bg-rose text-chocolate font-bold":"border-gray-300 hover:border-chocolate"}`,children:[e.weight," - ",e.price.toLocaleString()," ₽"]},e.weight))})]}),t.fillings&&t.fillings.length>0&&(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Выберите начинки (до 3):"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:t.fillings.map(e=>r.jsx("div",{onClick:()=>{g.includes(e)?h(g.filter(t=>t!==e)):g.length<3&&h([...g,e])},className:`p-3 border rounded-lg cursor-pointer transition ${g.includes(e)?"border-chocolate bg-rose":"border-gray-300 hover:border-gray-400"}`,children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-5 h-5 rounded-full border mr-3 flex items-center justify-center ${g.includes(e)?"bg-chocolate border-chocolate":"border-gray-400"}`,children:g.includes(e)&&r.jsx("span",{className:"text-white text-xs",children:"✓"})}),r.jsx("span",{children:e})]})},e))}),(0,r.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["Выбрано: ",g.length,"/3 начинок"]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Количество:"}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("button",{onClick:()=>p(Math.max(1,x-1)),className:"w-10 h-10 flex items-center justify-center border border-gray-300 rounded-l",children:"-"}),r.jsx("div",{className:"w-16 h-10 flex items-center justify-center border-t border-b border-gray-300",children:x}),r.jsx("button",{onClick:()=>p(x+1),className:"w-10 h-10 flex items-center justify-center border border-gray-300 rounded-r",children:"+"})]})]}),r.jsx("div",{className:"mb-6",children:r.jsx("button",{onClick:()=>{if(!t)return;let e={id:t.id,name:t.name,price:u(),image:t.image,weight:o,fillings:g,quantity:x},s=JSON.parse(localStorage.getItem("cart")||"[]"),r=s.findIndex(t=>t.id===e.id&&t.weight===e.weight&&JSON.stringify(t.fillings)===JSON.stringify(e.fillings));r>-1?s[r].quantity+=x:s.push(e),localStorage.setItem("cart",JSON.stringify(s)),alert(`Товар "${t.name}" добавлен в корзину!`)},className:"w-full btn-primary py-3",children:"Добавить в корзину"})}),t.ingredients&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Ингредиенты:"}),r.jsx("ul",{className:"list-disc pl-5 text-gray-600",children:t.ingredients.map((e,t)=>r.jsx("li",{className:"mb-1",children:e},t))})]})]})]}),t.detailed_description&&(0,r.jsxs)("div",{className:"border-t border-gray-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-serif font-bold text-chocolate mb-4",children:"Описание"}),r.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:t.detailed_description})]})]})]})]}):r.jsx("div",{className:"min-h-screen bg-cream flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-chocolate mb-4",children:"Продукт не найден"}),r.jsx(n(),{href:"/catalog",className:"text-chocolate hover:underline",children:"← Вернуться в каталог"})]})})}},5244:(e,t)=>{var s;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")},9648:e=>{e.exports=import("axios")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[567,424,899,814],()=>s(5173));module.exports=r})();